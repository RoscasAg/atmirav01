[{"/home/runner/ITACA-v2/pages/_app.tsx":"1","/home/runner/ITACA-v2/pages/api/agent-query.js":"2","/home/runner/ITACA-v2/pages/api/auth/[...nextauth].js":"3","/home/runner/ITACA-v2/pages/api/claims.js":"4","/home/runner/ITACA-v2/pages/api/db-query.js":"5","/home/runner/ITACA-v2/pages/api/invoices.js":"6","/home/runner/ITACA-v2/pages/api/json-query.js":"7","/home/runner/ITACA-v2/pages/api/pdf-query.js":"8","/home/runner/ITACA-v2/pages/api/pdf-upload.js":"9","/home/runner/ITACA-v2/pages/api/policies-upload.js":"10","/home/runner/ITACA-v2/pages/api/policies.js":"11","/home/runner/ITACA-v2/pages/api/streaming.js":"12","/home/runner/ITACA-v2/pages/components/ButtonContainer.jsx":"13","/home/runner/ITACA-v2/pages/components/CardCustomer.jsx":"14","/home/runner/ITACA-v2/pages/components/Chartnum1.jsx":"15","/home/runner/ITACA-v2/pages/components/Chartnum2.jsx":"16","/home/runner/ITACA-v2/pages/components/Chartnum3.jsx":"17","/home/runner/ITACA-v2/pages/components/ChatHistory.jsx":"18","/home/runner/ITACA-v2/pages/components/Claimsgrid.jsx":"19","/home/runner/ITACA-v2/pages/components/Input.jsx":"20","/home/runner/ITACA-v2/pages/components/Invoicesgrid.jsx":"21","/home/runner/ITACA-v2/pages/components/Loading.jsx":"22","/home/runner/ITACA-v2/pages/components/Policiesgrid.jsx":"23","/home/runner/ITACA-v2/pages/components/PromptBox.jsx":"24","/home/runner/ITACA-v2/pages/components/Result.jsx":"25","/home/runner/ITACA-v2/pages/components/ResultStreaming.jsx":"26","/home/runner/ITACA-v2/pages/components/Results.jsx":"27","/home/runner/ITACA-v2/pages/components/SigninButton.jsx":"28","/home/runner/ITACA-v2/pages/components/ui/notification.js":"29","/home/runner/ITACA-v2/pages/DBQA.jsx":"30","/home/runner/ITACA-v2/pages/Navbar.jsx":"31","/home/runner/ITACA-v2/pages/_document.tsx":"32","/home/runner/ITACA-v2/pages/company.jsx":"33","/home/runner/ITACA-v2/pages/home.jsx":"34","/home/runner/ITACA-v2/pages/index.js":"35","/home/runner/ITACA-v2/pages/layout.jsx":"36","/home/runner/ITACA-v2/pages/myItacaData.jsx":"37","/home/runner/ITACA-v2/pages/components/ResultWithSources.jsx":"38"},{"size":547,"mtime":1702326004199,"results":"39","hashOfConfig":"40"},{"size":4842,"mtime":1703369630654,"results":"41","hashOfConfig":"40"},{"size":349,"mtime":1703369630666,"results":"42","hashOfConfig":"40"},{"size":713,"mtime":1703369630682,"results":"43","hashOfConfig":"40"},{"size":2206,"mtime":1701529556030,"results":"44","hashOfConfig":"40"},{"size":695,"mtime":1703369630706,"results":"45","hashOfConfig":"40"},{"size":1900,"mtime":1703369630730,"results":"46","hashOfConfig":"40"},{"size":3105,"mtime":1703369630750,"results":"47","hashOfConfig":"40"},{"size":2835,"mtime":1705087465579,"results":"48","hashOfConfig":"40"},{"size":1909,"mtime":1701529556010,"results":"49","hashOfConfig":"40"},{"size":760,"mtime":1703369630798,"results":"50","hashOfConfig":"40"},{"size":1059,"mtime":1703369630810,"results":"51","hashOfConfig":"40"},{"size":183,"mtime":1701529557395,"results":"52","hashOfConfig":"40"},{"size":3307,"mtime":1703369630874,"results":"53","hashOfConfig":"40"},{"size":2900,"mtime":1703369630906,"results":"54","hashOfConfig":"40"},{"size":1106,"mtime":1703369630922,"results":"55","hashOfConfig":"40"},{"size":2237,"mtime":1701529555506,"results":"56","hashOfConfig":"40"},{"size":899,"mtime":1701529555506,"results":"57","hashOfConfig":"40"},{"size":1869,"mtime":1703595624330,"results":"58","hashOfConfig":"40"},{"size":702,"mtime":1701529555998,"results":"59","hashOfConfig":"40"},{"size":1873,"mtime":1703595647296,"results":"60","hashOfConfig":"40"},{"size":422,"mtime":1703369630986,"results":"61","hashOfConfig":"40"},{"size":1934,"mtime":1703595678035,"results":"62","hashOfConfig":"40"},{"size":1267,"mtime":1703369631014,"results":"63","hashOfConfig":"40"},{"size":889,"mtime":1701529553910,"results":"64","hashOfConfig":"40"},{"size":911,"mtime":1701529553910,"results":"65","hashOfConfig":"40"},{"size":418,"mtime":1701529553910,"results":"66","hashOfConfig":"40"},{"size":1473,"mtime":1702326138140,"results":"67","hashOfConfig":"40"},{"size":1055,"mtime":1701518639305,"results":"68","hashOfConfig":"40"},{"size":6465,"mtime":1704395668830,"results":"69","hashOfConfig":"40"},{"size":2015,"mtime":1703596868568,"results":"70","hashOfConfig":"40"},{"size":233,"mtime":1703369630630,"results":"71","hashOfConfig":"40"},{"size":1607,"mtime":1702326082104,"results":"72","hashOfConfig":"40"},{"size":3083,"mtime":1704396242037,"results":"73","hashOfConfig":"40"},{"size":3013,"mtime":1703593853154,"results":"74","hashOfConfig":"40"},{"size":1286,"mtime":1702667382488,"results":"75","hashOfConfig":"40"},{"size":10723,"mtime":1704439926355,"results":"76","hashOfConfig":"40"},{"size":2932,"mtime":1703369631078,"results":"77","hashOfConfig":"40"},{"filePath":"78","messages":"79","suppressedMessages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"3rbo30",{"filePath":"81","messages":"82","suppressedMessages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","suppressedMessages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","suppressedMessages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","suppressedMessages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","suppressedMessages":"95","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","suppressedMessages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"99","messages":"100","suppressedMessages":"101","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"102","messages":"103","suppressedMessages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"105","messages":"106","suppressedMessages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"108","messages":"109","suppressedMessages":"110","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"111","messages":"112","suppressedMessages":"113","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"114","messages":"115","suppressedMessages":"116","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"117","messages":"118","suppressedMessages":"119","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"120","messages":"121","suppressedMessages":"122","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"123"},{"filePath":"124","messages":"125","suppressedMessages":"126","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"127","messages":"128","suppressedMessages":"129","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"130"},{"filePath":"131","messages":"132","suppressedMessages":"133","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"134","messages":"135","suppressedMessages":"136","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"137","messages":"138","suppressedMessages":"139","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"140","messages":"141","suppressedMessages":"142","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"143","messages":"144","suppressedMessages":"145","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"146","messages":"147","suppressedMessages":"148","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"149","messages":"150","suppressedMessages":"151","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"152","messages":"153","suppressedMessages":"154","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"155","messages":"156","suppressedMessages":"157","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"158","messages":"159","suppressedMessages":"160","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"161","messages":"162","suppressedMessages":"163","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"164","messages":"165","suppressedMessages":"166","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"167","messages":"168","suppressedMessages":"169","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"170","messages":"171","suppressedMessages":"172","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"173","messages":"174","suppressedMessages":"175","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"176","messages":"177","suppressedMessages":"178","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"179","messages":"180","suppressedMessages":"181","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"182","messages":"183","suppressedMessages":"184","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"185","messages":"186","suppressedMessages":"187","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"188","messages":"189","suppressedMessages":"190","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"191","messages":"192","suppressedMessages":"193","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/runner/ITACA-v2/pages/_app.tsx",[],[],"/home/runner/ITACA-v2/pages/api/agent-query.js",[],[],"/home/runner/ITACA-v2/pages/api/auth/[...nextauth].js",[],[],"/home/runner/ITACA-v2/pages/api/claims.js",[],[],"/home/runner/ITACA-v2/pages/api/db-query.js",[],[],"/home/runner/ITACA-v2/pages/api/invoices.js",[],[],"/home/runner/ITACA-v2/pages/api/json-query.js",[],[],"/home/runner/ITACA-v2/pages/api/pdf-query.js",[],[],"/home/runner/ITACA-v2/pages/api/pdf-upload.js",[],[],"/home/runner/ITACA-v2/pages/api/policies-upload.js",[],[],"/home/runner/ITACA-v2/pages/api/policies.js",[],[],"/home/runner/ITACA-v2/pages/api/streaming.js",[],[],"/home/runner/ITACA-v2/pages/components/ButtonContainer.jsx",[],[],"/home/runner/ITACA-v2/pages/components/CardCustomer.jsx",[],[],"/home/runner/ITACA-v2/pages/components/Chartnum1.jsx",["194","195"],[],"import React, { useEffect, useRef, useState } from \"react\";\nimport Chart from \"chart.js/auto\";\n\nconst BarChart = ({ nifaSegur }) => {\n  const chartRef = useRef(null);\n  const [rows_pol, setRowsPol] = useState([]);\n  const [acc_pol, setAccPol] = useState([]);\n  const colors = [\n    \"#ffb9b9\",\n    \"#c5ebe7\",\n    \"#dcd8ea\",\n    \"#ffb9b9\",\n    \"#ffe9a0\",\n    \"#6ecceb\",\n  ]; // Example color array\n  let chartInstance = null;\n\n  useEffect(() => {\n    if (nifaSegur == null || nifaSegur == undefined) {\n      nifaSegur = \"Z00000300\";\n    }\n\n    async function fetchData() {\n      try {\n        const res = await fetch(`/api/invoices?nifaSegur=${nifaSegur}`);\n        if (!res.ok) {\n          // res.ok checks if the HTTP status code is 200-299\n          throw new Error(`HTTP error! status: ${res.status}`);\n        }\n        const data = await res.json();\n        setRowsPol(data);\n      } catch (error) {\n        console.error(\"A problem occurred when fetching the data:\", error);\n      }\n    }\n    fetchData();\n    return () => {\n      if (chartInstance) {\n        chartInstance.destroy();\n      }\n    };\n  }, [nifaSegur]);\n\n  useEffect(() => {\n    const chartCanvas = chartRef.current.getContext(\"2d\");\n\n    const summary = rows_pol.reduce((acc, row) => {\n      const dateString = row.F_Emision.split(\" \")[0]; // Extract the date part\n      const year = dateString.split(\"/\")[2]; // Extract the year part\n\n      if (!acc[year]) acc[year] = 0; // Initialize if not already done\n\n      const impTotal = parseFloat(row.Imp_Total); // Attempt to convert Imp_Total to a number\n\n      // If impTotal is a number, accumulate it, else treat it as 0\n      acc[year] += isNaN(impTotal) ? 0 : impTotal;\n      return acc;\n    }, {});\n\n    const summaryRows = Object.entries(summary).map(([year, total]) => ({\n      year,\n      total,\n    }));\n    setAccPol(summaryRows);\n\n    if (chartInstance) {\n      chartInstance.destroy();\n    }\n\n    // Assuming chartRef is the reference to your canvas element and Chart is imported from 'chart.js'\n\n    chartInstance = new Chart(chartRef.current, {\n      type: \"line\", // specify the type as bar\n      data: {\n        labels: summaryRows.map((row) => row.year), // map to the 'year' property of each row in summaryRows\n        datasets: [\n          {\n            label: \"Total by Year\",\n            data: summaryRows.map((row) => row.total), // map to the 'total' property of each row in summaryRows\n            backgroundColor: \"#6ecceb\",\n            borderColor: \"#6ecceb\",\n            borderWidth: 1,\n          },\n        ],\n      },\n      options: {\n        scales: {\n          y: {\n            beginAtZero: true,\n          },\n        },\n      },\n    });\n\n    return () => {\n      if (chartInstance) {\n        chartInstance.destroy();\n      }\n    };\n  }, [rows_pol]);\n\n  return (\n    <div>\n      <canvas ref={chartRef} />\n    </div>\n  );\n};\n\nexport default BarChart;\n","/home/runner/ITACA-v2/pages/components/Chartnum2.jsx",[],[],"/home/runner/ITACA-v2/pages/components/Chartnum3.jsx",["196","197"],[],"import React, { useState, useEffect, useRef } from \"react\";\nimport Chart from \"chart.js/auto\";\n\nconst PieChart = ({ nifaSegur }) => {\n  const chartRef = useRef(null);\n  const [rows_pol, setRowsPol] = useState([]);\n  const [acc_pol, setAccPol] = useState([]);\n  const colors = [\n    \"#ffb9b9\",\n    \"#c5ebe7\",\n    \"#dcd8ea\",\n    \"#ffb9b9\",\n    \"#ffe9a0\",\n    \"#6ecceb\",\n  ]; // Example color array\n  let chartInstance = null;\n\n  useEffect(() => {\n    if (nifaSegur == null || nifaSegur == undefined) {\n      nifaSegur = \"Z00000300\";\n    }\n\n    async function fetchData() {\n      try {\n        const res = await fetch(`/api/policies?nifaSegur=${nifaSegur}`);\n        if (!res.ok) {\n          // res.ok checks if the HTTP status code is 200-299\n          throw new Error(`HTTP error! status: ${res.status}`);\n        }\n        const data = await res.json();\n        setRowsPol(data);\n      } catch (error) {\n        console.error(\"A problem occurred when fetching the data:\", error);\n      }\n    }\n    fetchData();\n\n    return () => {\n      if (chartInstance) {\n        chartInstance.destroy();\n      }\n    };\n  }, [nifaSegur]);\n\n  useEffect(() => {\n    const summary = rows_pol.reduce((acc, row) => {\n      const { Product } = row;\n      if (!acc[Product]) {\n        acc[Product] = 0;\n      }\n      acc[Product]++;\n      return acc;\n    }, {});\n\n    const summaryRows = Object.entries(summary).map(([product, count]) => ({\n      product,\n      count,\n    }));\n    setAccPol(summaryRows);\n\n    if (chartInstance) {\n      chartInstance.destroy();\n    }\n\n    chartInstance = new Chart(chartRef.current, {\n      type: \"pie\",\n      data: {\n        labels: summaryRows.map((row) => row.product),\n        datasets: [\n          {\n            label: \"Products\",\n            data: summaryRows.map((row) => row.count),\n            backgroundColor: colors,\n            borderWidth: 1,\n          },\n        ],\n      },\n      options: {\n        scales: {\n          y: {\n            beginAtZero: true,\n          },\n        },\n      },\n    });\n\n    return () => {\n      if (chartInstance) {\n        chartInstance.destroy();\n      }\n    };\n  }, [rows_pol]);\n\n  return (\n    <div>\n      <canvas ref={chartRef} />\n    </div>\n  );\n};\n\nexport default PieChart;\n","/home/runner/ITACA-v2/pages/components/ChatHistory.jsx",[],[],"/home/runner/ITACA-v2/pages/components/Claimsgrid.jsx",[],[],"/home/runner/ITACA-v2/pages/components/Input.jsx",[],[],"/home/runner/ITACA-v2/pages/components/Invoicesgrid.jsx",[],[],"/home/runner/ITACA-v2/pages/components/Loading.jsx",[],[],"/home/runner/ITACA-v2/pages/components/Policiesgrid.jsx",[],[],"/home/runner/ITACA-v2/pages/components/PromptBox.jsx",[],[],"/home/runner/ITACA-v2/pages/components/Result.jsx",[],[],"/home/runner/ITACA-v2/pages/components/ResultStreaming.jsx",[],[],"/home/runner/ITACA-v2/pages/components/Results.jsx",[],[],"/home/runner/ITACA-v2/pages/components/SigninButton.jsx",[],[],"/home/runner/ITACA-v2/pages/components/ui/notification.js",[],[],"/home/runner/ITACA-v2/pages/DBQA.jsx",[],[],"/home/runner/ITACA-v2/pages/Navbar.jsx",[],[],"/home/runner/ITACA-v2/pages/_document.tsx",[],[],"/home/runner/ITACA-v2/pages/company.jsx",[],[],"/home/runner/ITACA-v2/pages/home.jsx",[],[],"/home/runner/ITACA-v2/pages/index.js",[],[],"/home/runner/ITACA-v2/pages/layout.jsx",[],[],"/home/runner/ITACA-v2/pages/myItacaData.jsx",[],[],"/home/runner/ITACA-v2/pages/components/ResultWithSources.jsx",[],[],{"ruleId":"198","severity":1,"message":"199","line":20,"column":19,"nodeType":"200","endLine":20,"endColumn":30},{"ruleId":"198","severity":1,"message":"201","line":72,"column":21,"nodeType":"202","endLine":93,"endColumn":7},{"ruleId":"198","severity":1,"message":"199","line":20,"column":19,"nodeType":"200","endLine":20,"endColumn":30},{"ruleId":"198","severity":1,"message":"201","line":65,"column":21,"nodeType":"202","endLine":85,"endColumn":7},"react-hooks/exhaustive-deps","Assignments to the 'nifaSegur' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","Literal","Assignments to the 'chartInstance' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","NewExpression"]