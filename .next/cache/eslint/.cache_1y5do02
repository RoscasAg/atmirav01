[{"/home/runner/ITACA-v33/pages/DBQA.jsx":"1","/home/runner/ITACA-v33/pages/Navbar.jsx":"2","/home/runner/ITACA-v33/pages/_app.tsx":"3","/home/runner/ITACA-v33/pages/_document.tsx":"4","/home/runner/ITACA-v33/pages/actions/useAppendSlide.tsx":"5","/home/runner/ITACA-v33/pages/actions/useUpdateSlide.tsx":"6","/home/runner/ITACA-v33/pages/api/(del) db.js":"7","/home/runner/ITACA-v33/pages/api/auth/[...nextauth].js":"8","/home/runner/ITACA-v33/pages/api/claims.js":"9","/home/runner/ITACA-v33/pages/api/copilot.ts":"10","/home/runner/ITACA-v33/pages/api/db-query.js":"11","/home/runner/ITACA-v33/pages/api/info-extract.js":"12","/home/runner/ITACA-v33/pages/api/invoices.js":"13","/home/runner/ITACA-v33/pages/api/pdf-extract.js":"14","/home/runner/ITACA-v33/pages/api/pdf-query.ts":"15","/home/runner/ITACA-v33/pages/api/pdf-upload.js":"16","/home/runner/ITACA-v33/pages/api/policies.js":"17","/home/runner/ITACA-v33/pages/api/populateGraph.js":"18","/home/runner/ITACA-v33/pages/api/populateGraph_v2.js":"19","/home/runner/ITACA-v33/pages/api/researchActionDBHandler.js":"20","/home/runner/ITACA-v33/pages/api/researchActionPDFHandler.ts":"21","/home/runner/ITACA-v33/pages/api/research_2.ts":"22","/home/runner/ITACA-v33/pages/api/research_PDF.ts":"23","/home/runner/ITACA-v33/pages/api/tts/route.ts":"24","/home/runner/ITACA-v33/pages/company.jsx":"25","/home/runner/ITACA-v33/pages/components/ButtonContainer.jsx":"26","/home/runner/ITACA-v33/pages/components/CardCustomer.jsx":"27","/home/runner/ITACA-v33/pages/components/Chartnum1.jsx":"28","/home/runner/ITACA-v33/pages/components/Chartnum2.jsx":"29","/home/runner/ITACA-v33/pages/components/Chartnum3.jsx":"30","/home/runner/ITACA-v33/pages/components/ChatHistory.jsx":"31","/home/runner/ITACA-v33/pages/components/Claimsgrid.jsx":"32","/home/runner/ITACA-v33/pages/components/Input.jsx":"33","/home/runner/ITACA-v33/pages/components/Invoicesgrid.jsx":"34","/home/runner/ITACA-v33/pages/components/Loading.jsx":"35","/home/runner/ITACA-v33/pages/components/Policiesgrid.jsx":"36","/home/runner/ITACA-v33/pages/components/PromptBox.jsx":"37","/home/runner/ITACA-v33/pages/components/Result.jsx":"38","/home/runner/ITACA-v33/pages/components/ResultStreaming.jsx":"39","/home/runner/ITACA-v33/pages/components/ResultWithSources (copy).jsx":"40","/home/runner/ITACA-v33/pages/components/ResultWithSources.jsx":"41","/home/runner/ITACA-v33/pages/components/Results.jsx":"42","/home/runner/ITACA-v33/pages/components/SigninButton.jsx":"43","/home/runner/ITACA-v33/pages/components/misc/SlideNumberIndicator.tsx":"44","/home/runner/ITACA-v33/pages/components/misc/SlidePreview.tsx":"45","/home/runner/ITACA-v33/pages/components/ui/notification.js":"46","/home/runner/ITACA-v33/pages/home.jsx":"47","/home/runner/ITACA-v33/pages/index.js":"48","/home/runner/ITACA-v33/pages/layout.jsx":"49","/home/runner/ITACA-v33/pages/myCVs.jsx":"50","/home/runner/ITACA-v33/pages/myExtract.jsx":"51","/home/runner/ITACA-v33/pages/myExtract_v2.jsx":"52","/home/runner/ITACA-v33/pages/myGraph.jsx":"53","/home/runner/ITACA-v33/pages/myItacaData.jsx":"54","/home/runner/ITACA-v33/pages/myManuals.jsx":"55","/home/runner/ITACA-v33/pages/pbiatmiraCV.jsx":"56"},{"size":6466,"mtime":1705300685666,"results":"57","hashOfConfig":"58"},{"size":2457,"mtime":1717415150869,"results":"59","hashOfConfig":"58"},{"size":2399,"mtime":1717415149657,"results":"60","hashOfConfig":"58"},{"size":233,"mtime":1703369630630,"results":"61","hashOfConfig":"58"},{"size":1983,"mtime":1717415149677,"results":"62","hashOfConfig":"58"},{"size":1346,"mtime":1717337125256,"results":"63","hashOfConfig":"58"},{"size":776,"mtime":1717415149689,"results":"64","hashOfConfig":"58"},{"size":349,"mtime":1703369630666,"results":"65","hashOfConfig":"58"},{"size":713,"mtime":1703369630682,"results":"66","hashOfConfig":"58"},{"size":2398,"mtime":1717415138137,"results":"67","hashOfConfig":"58"},{"size":2167,"mtime":1716796206453,"results":"68","hashOfConfig":"58"},{"size":5060,"mtime":1717415149737,"results":"69","hashOfConfig":"58"},{"size":695,"mtime":1703369630706,"results":"70","hashOfConfig":"58"},{"size":7020,"mtime":1717415149761,"results":"71","hashOfConfig":"58"},{"size":4402,"mtime":1717415149785,"results":"72","hashOfConfig":"58"},{"size":3226,"mtime":1717415149809,"results":"73","hashOfConfig":"58"},{"size":760,"mtime":1703369630798,"results":"74","hashOfConfig":"58"},{"size":4006,"mtime":1717415149869,"results":"75","hashOfConfig":"58"},{"size":6917,"mtime":1715787038755,"results":"76","hashOfConfig":"58"},{"size":1874,"mtime":1717415150033,"results":"77","hashOfConfig":"58"},{"size":3055,"mtime":1717415150061,"results":"78","hashOfConfig":"58"},{"size":8391,"mtime":1717415149961,"results":"79","hashOfConfig":"58"},{"size":8394,"mtime":1717415150017,"results":"80","hashOfConfig":"58"},{"size":505,"mtime":1714831555643,"results":"81","hashOfConfig":"58"},{"size":1636,"mtime":1713095991846,"results":"82","hashOfConfig":"58"},{"size":183,"mtime":1701529557395,"results":"83","hashOfConfig":"58"},{"size":3309,"mtime":1714632778395,"results":"84","hashOfConfig":"58"},{"size":2901,"mtime":1717415150205,"results":"85","hashOfConfig":"58"},{"size":1106,"mtime":1703369630922,"results":"86","hashOfConfig":"58"},{"size":2237,"mtime":1717319709853,"results":"87","hashOfConfig":"58"},{"size":899,"mtime":1701529555506,"results":"88","hashOfConfig":"58"},{"size":1869,"mtime":1703595624330,"results":"89","hashOfConfig":"58"},{"size":702,"mtime":1701529555998,"results":"90","hashOfConfig":"58"},{"size":1873,"mtime":1703595647296,"results":"91","hashOfConfig":"58"},{"size":422,"mtime":1703369630986,"results":"92","hashOfConfig":"58"},{"size":1934,"mtime":1703595678035,"results":"93","hashOfConfig":"58"},{"size":1398,"mtime":1711801917066,"results":"94","hashOfConfig":"58"},{"size":889,"mtime":1701529553910,"results":"95","hashOfConfig":"58"},{"size":911,"mtime":1701529553910,"results":"96","hashOfConfig":"58"},{"size":3586,"mtime":1715947106042,"results":"97","hashOfConfig":"58"},{"size":3673,"mtime":1717415150481,"results":"98","hashOfConfig":"58"},{"size":418,"mtime":1701529553910,"results":"99","hashOfConfig":"58"},{"size":1473,"mtime":1702326138140,"results":"100","hashOfConfig":"58"},{"size":1087,"mtime":1717415150385,"results":"101","hashOfConfig":"58"},{"size":1160,"mtime":1717415150397,"results":"102","hashOfConfig":"58"},{"size":1055,"mtime":1701518639305,"results":"103","hashOfConfig":"58"},{"size":4746,"mtime":1717415150621,"results":"104","hashOfConfig":"58"},{"size":3016,"mtime":1705300158208,"results":"105","hashOfConfig":"58"},{"size":865,"mtime":1717415150645,"results":"106","hashOfConfig":"58"},{"size":3368,"mtime":1715960984032,"results":"107","hashOfConfig":"58"},{"size":3375,"mtime":1710610439443,"results":"108","hashOfConfig":"58"},{"size":12526,"mtime":1717415150725,"results":"109","hashOfConfig":"58"},{"size":9464,"mtime":1717415150781,"results":"110","hashOfConfig":"58"},{"size":10759,"mtime":1717415150825,"results":"111","hashOfConfig":"58"},{"size":3372,"mtime":1708768328914,"results":"112","hashOfConfig":"58"},{"size":1583,"mtime":1713095958750,"results":"113","hashOfConfig":"58"},{"filePath":"114","messages":"115","suppressedMessages":"116","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1uoqcaz",{"filePath":"117","messages":"118","suppressedMessages":"119","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"120","messages":"121","suppressedMessages":"122","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"123","messages":"124","suppressedMessages":"125","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"126","messages":"127","suppressedMessages":"128","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"129","messages":"130","suppressedMessages":"131","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"132","messages":"133","suppressedMessages":"134","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"135","messages":"136","suppressedMessages":"137","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"138","messages":"139","suppressedMessages":"140","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"141","messages":"142","suppressedMessages":"143","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"144","messages":"145","suppressedMessages":"146","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"147","messages":"148","suppressedMessages":"149","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"150","messages":"151","suppressedMessages":"152","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"153","messages":"154","suppressedMessages":"155","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"156","messages":"157","suppressedMessages":"158","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"159","messages":"160","suppressedMessages":"161","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"162","messages":"163","suppressedMessages":"164","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"165","messages":"166","suppressedMessages":"167","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"168","messages":"169","suppressedMessages":"170","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"171","messages":"172","suppressedMessages":"173","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"174","messages":"175","suppressedMessages":"176","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"177","messages":"178","suppressedMessages":"179","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"180","messages":"181","suppressedMessages":"182","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"183","messages":"184","suppressedMessages":"185","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"186","messages":"187","suppressedMessages":"188","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"189","messages":"190","suppressedMessages":"191","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"192","messages":"193","suppressedMessages":"194","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"195","messages":"196","suppressedMessages":"197","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"198"},{"filePath":"199","messages":"200","suppressedMessages":"201","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"202","messages":"203","suppressedMessages":"204","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"205"},{"filePath":"206","messages":"207","suppressedMessages":"208","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"209","messages":"210","suppressedMessages":"211","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"212","messages":"213","suppressedMessages":"214","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"215","messages":"216","suppressedMessages":"217","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"218","messages":"219","suppressedMessages":"220","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"221","messages":"222","suppressedMessages":"223","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"224","messages":"225","suppressedMessages":"226","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"227","messages":"228","suppressedMessages":"229","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"230","messages":"231","suppressedMessages":"232","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"233","messages":"234","suppressedMessages":"235","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"236","messages":"237","suppressedMessages":"238","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"239","messages":"240","suppressedMessages":"241","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"242","messages":"243","suppressedMessages":"244","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"245","messages":"246","suppressedMessages":"247","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"248","messages":"249","suppressedMessages":"250","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"251","messages":"252","suppressedMessages":"253","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"254","messages":"255","suppressedMessages":"256","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"257","messages":"258","suppressedMessages":"259","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"260","messages":"261","suppressedMessages":"262","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"263","messages":"264","suppressedMessages":"265","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"266","messages":"267","suppressedMessages":"268","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"269","messages":"270","suppressedMessages":"271","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"272","messages":"273","suppressedMessages":"274","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"275","messages":"276","suppressedMessages":"277","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"278","messages":"279","suppressedMessages":"280","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"281","messages":"282","suppressedMessages":"283","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/runner/ITACA-v33/pages/DBQA.jsx",[],[],"/home/runner/ITACA-v33/pages/Navbar.jsx",[],[],"/home/runner/ITACA-v33/pages/_app.tsx",[],[],"/home/runner/ITACA-v33/pages/_document.tsx",[],[],"/home/runner/ITACA-v33/pages/actions/useAppendSlide.tsx",[],[],"/home/runner/ITACA-v33/pages/actions/useUpdateSlide.tsx",[],[],"/home/runner/ITACA-v33/pages/api/(del) db.js",[],[],"/home/runner/ITACA-v33/pages/api/auth/[...nextauth].js",[],[],"/home/runner/ITACA-v33/pages/api/claims.js",[],[],"/home/runner/ITACA-v33/pages/api/copilot.ts",[],[],"/home/runner/ITACA-v33/pages/api/db-query.js",[],[],"/home/runner/ITACA-v33/pages/api/info-extract.js",[],[],"/home/runner/ITACA-v33/pages/api/invoices.js",[],[],"/home/runner/ITACA-v33/pages/api/pdf-extract.js",[],[],"/home/runner/ITACA-v33/pages/api/pdf-query.ts",[],[],"/home/runner/ITACA-v33/pages/api/pdf-upload.js",[],[],"/home/runner/ITACA-v33/pages/api/policies.js",[],[],"/home/runner/ITACA-v33/pages/api/populateGraph.js",[],[],"/home/runner/ITACA-v33/pages/api/populateGraph_v2.js",[],[],"/home/runner/ITACA-v33/pages/api/researchActionDBHandler.js",[],[],"/home/runner/ITACA-v33/pages/api/researchActionPDFHandler.ts",[],[],"/home/runner/ITACA-v33/pages/api/research_2.ts",[],[],"/home/runner/ITACA-v33/pages/api/research_PDF.ts",[],[],"/home/runner/ITACA-v33/pages/api/tts/route.ts",[],[],"/home/runner/ITACA-v33/pages/company.jsx",[],[],"/home/runner/ITACA-v33/pages/components/ButtonContainer.jsx",[],[],"/home/runner/ITACA-v33/pages/components/CardCustomer.jsx",[],[],"/home/runner/ITACA-v33/pages/components/Chartnum1.jsx",["284","285"],[],"import React, { useEffect, useRef, useState } from \"react\";\nimport Chart from \"chart.js/auto\";\n\nconst BarChart = ({ nifaSegur }) => {\n  const chartRef = useRef(null);\n  const [rows_pol, setRowsPol] = useState([]);\n  const [acc_pol, setAccPol] = useState([]);\n  const colors = [\n    \"#ffb9b9\",\n    \"#c5ebe7\",\n    \"#dcd8ea\",\n    \"#ffb9b9\",\n    \"#ffe9a0\",\n    \"#6ecceb\",\n  ]; // Example color array\n  let chartInstance = null;\n\n  useEffect(() => {\n    if (nifaSegur == null || nifaSegur == undefined) {\n      nifaSegur = \"Z00000300\";\n    }\n\n    async function fetchData() {\n      try {\n        const res = await fetch(`/api/invoices?nifaSegur=${nifaSegur}`);\n        if (!res.ok) {\n          // res.ok checks if the HTTP status code is 200-299\n          throw new Error(`HTTP error! status: ${res.status}`);\n        }\n        const data = await res.json();\n        setRowsPol(data);\n      } catch (error) {\n        console.error(\"A problem occurred when fetching the data:\", error);\n      }\n    }\n    fetchData();\n\n    return () => {\n      if (chartInstance) {\n        chartInstance.destroy();\n      }\n    };\n  }, [nifaSegur]);\n\n  useEffect(() => {\n    const chartCanvas = chartRef.current.getContext(\"2d\");\n\n    const summary = rows_pol.reduce((acc, row) => {\n      const dateString = row.F_Emision.split(\" \")[0]; // Extract the date part\n      const year = dateString.split(\"/\")[2]; // Extract the year part\n\n      if (!acc[year]) acc[year] = 0; // Initialize if not already done\n\n      const impTotal = parseFloat(row.Imp_Total); // Attempt to convert Imp_Total to a number\n\n      // If impTotal is a number, accumulate it, else treat it as 0\n      acc[year] += isNaN(impTotal) ? 0 : impTotal;\n      return acc;\n    }, {});\n\n    const summaryRows = Object.entries(summary).map(([year, total]) => ({\n      year,\n      total,\n    }));\n    setAccPol(summaryRows);\n\n    if (chartInstance) {\n      chartInstance.destroy();\n    }\n\n    // Assuming chartRef is the reference to your canvas element and Chart is imported from 'chart.js'\n\n    chartInstance = new Chart(chartRef.current, {\n      type: \"line\", // specify the type as bar\n      data: {\n        labels: summaryRows.map((row) => row.year), // map to the 'year' property of each row in summaryRows\n        datasets: [\n          {\n            label: \"Total by Year\",\n            data: summaryRows.map((row) => row.total), // map to the 'total' property of each row in summaryRows\n            backgroundColor: \"#6ecceb\",\n            borderColor: \"#6ecceb\",\n            borderWidth: 1,\n          },\n        ],\n      },\n      options: {\n        scales: {\n          y: {\n            beginAtZero: true,\n          },\n        },\n      },\n    });\n\n    return () => {\n      if (chartInstance) {\n        chartInstance.destroy();\n      }\n    };\n  }, [rows_pol]);\n\n  return (\n    <div>\n      <canvas ref={chartRef} />\n    </div>\n  );\n};\n\nexport default BarChart;\n","/home/runner/ITACA-v33/pages/components/Chartnum2.jsx",[],[],"/home/runner/ITACA-v33/pages/components/Chartnum3.jsx",["286","287"],[],"import React, { useState, useEffect, useRef } from \"react\";\nimport Chart from \"chart.js/auto\";\n\nconst PieChart = ({ nifaSegur }) => {\n  const chartRef = useRef(null);\n  const [rows_pol, setRowsPol] = useState([]);\n  const [acc_pol, setAccPol] = useState([]);\n  const colors = [\n    \"#ffb9b9\",\n    \"#c5ebe7\",\n    \"#dcd8ea\",\n    \"#ffb9b9\",\n    \"#ffe9a0\",\n    \"#6ecceb\",\n  ]; // Example color array\n  let chartInstance = null;\n\n  useEffect(() => {\n    if (nifaSegur == null || nifaSegur == undefined) {\n      nifaSegur = \"Z00000300\";\n    }\n\n    async function fetchData() {\n      try {\n        const res = await fetch(`/api/policies?nifaSegur=${nifaSegur}`);\n        if (!res.ok) {\n          // res.ok checks if the HTTP status code is 200-299\n          throw new Error(`HTTP error! status: ${res.status}`);\n        }\n        const data = await res.json();\n        setRowsPol(data);\n      } catch (error) {\n        console.error(\"A problem occurred when fetching the data:\", error);\n      }\n    }\n    fetchData();\n\n    return () => {\n      if (chartInstance) {\n        chartInstance.destroy();\n      }\n    };\n  }, [nifaSegur]);\n\n  useEffect(() => {\n    const summary = rows_pol.reduce((acc, row) => {\n      const { Product } = row;\n      if (!acc[Product]) {\n        acc[Product] = 0;\n      }\n      acc[Product]++;\n      return acc;\n    }, {});\n\n    const summaryRows = Object.entries(summary).map(([product, count]) => ({\n      product,\n      count,\n    }));\n    setAccPol(summaryRows);\n\n    if (chartInstance) {\n      chartInstance.destroy();\n    }\n\n    chartInstance = new Chart(chartRef.current, {\n      type: \"pie\",\n      data: {\n        labels: summaryRows.map((row) => row.product),\n        datasets: [\n          {\n            label: \"Products\",\n            data: summaryRows.map((row) => row.count),\n            backgroundColor: colors,\n            borderWidth: 1,\n          },\n        ],\n      },\n      options: {\n        scales: {\n          y: {\n            beginAtZero: true,\n          },\n        },\n      },\n    });\n\n    return () => {\n      if (chartInstance) {\n        chartInstance.destroy();\n      }\n    };\n  }, [rows_pol]);\n\n  return (\n    <div>\n      <canvas ref={chartRef} />\n    </div>\n  );\n};\n\nexport default PieChart;\n","/home/runner/ITACA-v33/pages/components/ChatHistory.jsx",[],[],"/home/runner/ITACA-v33/pages/components/Claimsgrid.jsx",[],[],"/home/runner/ITACA-v33/pages/components/Input.jsx",[],[],"/home/runner/ITACA-v33/pages/components/Invoicesgrid.jsx",[],[],"/home/runner/ITACA-v33/pages/components/Loading.jsx",[],[],"/home/runner/ITACA-v33/pages/components/Policiesgrid.jsx",[],[],"/home/runner/ITACA-v33/pages/components/PromptBox.jsx",[],[],"/home/runner/ITACA-v33/pages/components/Result.jsx",[],[],"/home/runner/ITACA-v33/pages/components/ResultStreaming.jsx",[],[],"/home/runner/ITACA-v33/pages/components/ResultWithSources (copy).jsx",[],[],"/home/runner/ITACA-v33/pages/components/ResultWithSources.jsx",[],[],"/home/runner/ITACA-v33/pages/components/Results.jsx",[],[],"/home/runner/ITACA-v33/pages/components/SigninButton.jsx",[],[],"/home/runner/ITACA-v33/pages/components/misc/SlideNumberIndicator.tsx",[],[],"/home/runner/ITACA-v33/pages/components/misc/SlidePreview.tsx",[],[],"/home/runner/ITACA-v33/pages/components/ui/notification.js",[],[],"/home/runner/ITACA-v33/pages/home.jsx",[],[],"/home/runner/ITACA-v33/pages/index.js",[],[],"/home/runner/ITACA-v33/pages/layout.jsx",[],[],"/home/runner/ITACA-v33/pages/myCVs.jsx",[],[],"/home/runner/ITACA-v33/pages/myExtract.jsx",[],[],"/home/runner/ITACA-v33/pages/myExtract_v2.jsx",[],[],"/home/runner/ITACA-v33/pages/myGraph.jsx",[],[],"/home/runner/ITACA-v33/pages/myItacaData.jsx",[],[],"/home/runner/ITACA-v33/pages/myManuals.jsx",[],[],"/home/runner/ITACA-v33/pages/pbiatmiraCV.jsx",[],[],{"ruleId":"288","severity":1,"message":"289","line":20,"column":19,"nodeType":"290","endLine":20,"endColumn":30},{"ruleId":"288","severity":1,"message":"291","line":73,"column":21,"nodeType":"292","endLine":94,"endColumn":7},{"ruleId":"288","severity":1,"message":"289","line":20,"column":19,"nodeType":"290","endLine":20,"endColumn":30},{"ruleId":"288","severity":1,"message":"291","line":65,"column":21,"nodeType":"292","endLine":85,"endColumn":7},"react-hooks/exhaustive-deps","Assignments to the 'nifaSegur' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","Literal","Assignments to the 'chartInstance' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","NewExpression"]